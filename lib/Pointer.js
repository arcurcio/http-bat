"use strict";
// NPM
var Type = require('yaml-ast-parser/dist/type');
var _ = require('lodash');
exports.type = new Type('tag:yaml.org,2002:variable', {
    kind: 'scalar',
    resolve: resolvePointer,
    construct: constructVariable,
    instanceOf: Pointer
});
var Pointer = (function () {
    function Pointer(path) {
        this.path = path;
    }
    Pointer.prototype.set = function (object, value) {
        _.set(object, this.path, value);
    };
    Pointer.prototype.get = function (object) {
        return _.get(object, this.path);
    };
    return Pointer;
}());
exports.Pointer = Pointer;
// ---
function constructVariable(data) {
    return new Pointer(data.value);
}
function resolvePointer(data) {
    return (typeof data.value === 'string');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9pbnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlBvaW50ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU07QUFDTixJQUFPLElBQUksV0FBVywyQkFBMkIsQ0FBQyxDQUFDO0FBRW5ELElBQU8sQ0FBQyxXQUFXLFFBQVEsQ0FBQyxDQUFDO0FBR2hCLFlBQUksR0FBRyxJQUFJLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtJQUN6RCxJQUFJLEVBQUUsUUFBUTtJQUNkLE9BQU8sRUFBRSxjQUFjO0lBQ3ZCLFNBQVMsRUFBRSxpQkFBaUI7SUFDNUIsVUFBVSxFQUFFLE9BQU87Q0FDcEIsQ0FBQyxDQUFDO0FBRUg7SUFDRSxpQkFBbUIsSUFBWTtRQUFaLFNBQUksR0FBSixJQUFJLENBQVE7SUFFL0IsQ0FBQztJQUVELHFCQUFHLEdBQUgsVUFBSSxNQUFXLEVBQUUsS0FBVTtRQUN6QixDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksTUFBVztRQUNiLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBWkQsSUFZQztBQVpZLGVBQU8sVUFZbkIsQ0FBQTtBQUVELE1BQU07QUFFTiwyQkFBMkIsSUFBSTtJQUM3QixNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2pDLENBQUM7QUFHRCx3QkFBd0IsSUFBaUI7SUFDdkMsTUFBTSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLFFBQVEsQ0FBQyxDQUFDO0FBQzFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOUE1cbmltcG9ydCBUeXBlID0gcmVxdWlyZSgneWFtbC1hc3QtcGFyc2VyL2Rpc3QvdHlwZScpO1xuaW1wb3J0IHsgWUFNTE1hcHBpbmcgfSBmcm9tICd5YW1sLWFzdC1wYXJzZXInO1xuaW1wb3J0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuXG5leHBvcnQgY29uc3QgdHlwZSA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjp2YXJpYWJsZScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVQb2ludGVyLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFZhcmlhYmxlLFxuICBpbnN0YW5jZU9mOiBQb2ludGVyXG59KTtcblxuZXhwb3J0IGNsYXNzIFBvaW50ZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF0aDogc3RyaW5nKSB7XG5cbiAgfVxuXG4gIHNldChvYmplY3Q6IGFueSwgdmFsdWU6IGFueSkge1xuICAgIF8uc2V0KG9iamVjdCwgdGhpcy5wYXRoLCB2YWx1ZSk7XG4gIH1cblxuICBnZXQob2JqZWN0OiBhbnkpIHtcbiAgICByZXR1cm4gXy5nZXQob2JqZWN0LCB0aGlzLnBhdGgpO1xuICB9XG59XG5cbi8vIC0tLVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RWYXJpYWJsZShkYXRhKSB7XG4gIHJldHVybiBuZXcgUG9pbnRlcihkYXRhLnZhbHVlKTtcbn1cblxuXG5mdW5jdGlvbiByZXNvbHZlUG9pbnRlcihkYXRhOiBZQU1MTWFwcGluZykge1xuICByZXR1cm4gKHR5cGVvZiBkYXRhLnZhbHVlID09PSAnc3RyaW5nJyk7XG59XG4iXX0=